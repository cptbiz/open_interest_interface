# ü§ñ OpenAI Integration Setup

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI API

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ OpenAI:** https://platform.openai.com/
2. **–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç** –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Keys:** https://platform.openai.com/api-keys
4. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-`)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Railway

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Railway Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
2. –ù–∞–∂–º–∏—Ç–µ **Variables**
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name:** `OPENAI_API_KEY`
   - **Value:** `sk-your-api-key-here`

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Railway CLI
```bash
railway variables set OPENAI_API_KEY=sk-your-api-key-here
```

### 3. –õ–æ–∫–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```env
OPENAI_API_KEY=sk-your-api-key-here
RAILWAY_STATIC_URL=https://web-production-939d1.up.railway.app
```

## üöÄ –ù–æ–≤—ã–µ API Endpoints

### OpenAI Analysis
```bash
# –ü–æ–ª—É—á–∏—Ç—å AI –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞
curl https://web-production-939d1.up.railway.app/api/openai-analysis
```

### OpenAI Market Report
```bash
# –ü–æ–ª—É—á–∏—Ç—å AI –æ—Ç—á–µ—Ç –æ —Ä—ã–Ω–∫–µ
curl https://web-production-939d1.up.railway.app/api/openai-report
```

## üé≠ –î–µ–º–æ —Å OpenAI

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:
```bash
npm run demo-openai
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å OpenAI
curl http://localhost:3000/health | jq '.openai'

# –ü–æ–ª—É—á–∏—Ç—å AI –∞–Ω–∞–ª–∏–∑
curl http://localhost:3000/api/openai-analysis

# –ü–æ–ª—É—á–∏—Ç—å AI –æ—Ç—á–µ—Ç
curl http://localhost:3000/api/openai-report
```

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ OpenAI

### ü§ñ AI Analysis
- **–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π —Ä—ã–Ω–∫–∞**
- **–ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–Ω–¥—ã**
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç—Ä–µ–π–¥–µ—Ä–æ–≤**
- **–†–∏—Å–∫–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

### üìã AI Market Report
- **–ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ**
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã**
- **–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è**
- **–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞ (1-10)**

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å OpenAI

### GPT-4o-mini (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **$0.00015** –∑–∞ 1K input tokens
- **$0.0006** –∑–∞ 1K output tokens
- **~$0.01-0.05** –∑–∞ –∞–Ω–∞–ª–∏–∑

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- **–ê–Ω–∞–ª–∏–∑ 10 –ø–∞—Ä:** ~$0.02
- **–û—Ç—á–µ—Ç –æ —Ä—ã–Ω–∫–µ:** ~$0.03
- **100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å:** ~$2-5/–º–µ—Å—è—Ü

## üîß Troubleshooting

### –û—à–∏–±–∫–∞ "OpenAI API key not configured"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $OPENAI_API_KEY

# –ù–∞ Railway
railway variables list
```

### –û—à–∏–±–∫–∞ "Request failed with status code 401"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞

### –û—à–∏–±–∫–∞ "Rate limit exceeded"
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –∞–∫–∫–∞—É–Ω—Ç–∞
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ upgrade –ø–ª–∞–Ω–∞

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
curl https://web-production-939d1.up.railway.app/health | jq '.openai'
```

### –õ–æ–≥–∏ Railway:
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Railway Dashboard
- –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
- –ù–∞–∂–º–∏—Ç–µ "Logs"
- –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ OpenAI

## üéØ –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤

### AI Analysis:
```json
{
  "analysis": {
    "analysis": "–†—ã–Ω–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–º–µ—Ä–µ–Ω–Ω–æ –±—ã—á—å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è...",
    "sentiment": "bullish",
    "recommendations": [
      "–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–ª–∏–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ BTC",
      "–°–ª–µ–¥–∏—Ç–µ –∑–∞ —É—Ä–æ–≤–Ω–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ETH"
    ]
  }
}
```

### AI Report:
```json
{
  "report": {
    "report": "–ö—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç –æ —Ä—ã–Ω–∫–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç...",
    "timestamp": "2025-08-02T20:48:00.000Z"
  }
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ API –∫–ª—é—á–∏** –≤ –∫–æ–¥–µ
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
- **–†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏**
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

### ‚ùå –ù–µ –¥–µ–ª–∞–π—Ç–µ:
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –∫–ª—é—á–∏ –≤ GitHub
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∫–ª—é—á –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

---

**üéâ OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 